{"data":{"site":{"siteMetadata":{"courseId":"gams-in-r-course"}},"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"exercise","properties":{"id":"1","title":"Introduction","type":"slides"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"slides","properties":{"source":"chapter1_01_introduction"},"children":[{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"2","title":"Motorcycle crash data: linear approach"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In this first exercise, you will fit a linear model to a data set and visualize the results\nto see how well it captures relationships in the data.  The data set, stored in a data frame named "},{"type":"element","tagName":"a","properties":{"href":"https://www.rdocumentation.org/packages/MASS/topics/mcycle"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mcycle"}]}]},{"type":"text","value":", contains measurement of acceleration of a crash-test dummy head\nduring a motorcycle crash. It contains measurements of acceleration (g) in the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"accel"}]},{"type":"text","value":" column\nand time (milliseconds) in the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"times"}]},{"type":"text","value":" column."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"head()"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"plot()"}]},{"type":"text","value":" functions to look at the data frame named "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mcycle"}]},{"type":"text","value":". "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"lm()"}]},{"type":"text","value":" function to fit a model to the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mcycle"}]},{"type":"text","value":" data where the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"accel"}]},{"type":"text","value":" variable is a "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"linear"}]},{"type":"text","value":" function of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"times"}]},{"type":"text","value":". "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Visualize the model fit using the provided call to "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"termplot()"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"01_02"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When fitting a linear model with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"lm()"}]},{"type":"text","value":", use the formula syntax "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y ~ x"}]},{"type":"text","value":" in the first argument to specify that "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y"}]},{"type":"text","value":" is modeled as a linear function of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"x"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"3","title":"Motorcycle crash data: non-linear approach"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now you will fit a non-linear model to the same "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mcycle"}]},{"type":"text","value":" data using the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam()"}]},{"type":"text","value":" function from\nthe "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"mgcv"}]},{"type":"text","value":" package."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Load the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mgcv"}]},{"type":"text","value":" package. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fit a model to the  "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mcycle"}]},{"type":"text","value":" data where "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"accel"}]},{"type":"text","value":" has a smooth, nonlinear relation to "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"times"}]},{"type":"text","value":" using the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam()"}]},{"type":"text","value":" function. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Visualize the model fit using the provided call to "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"plot()"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"01_03"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When fitting a GAM, use the syntax "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y ~ s(x)"}]},{"type":"text","value":" in the model formula to indicate that "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y"}]},{"type":"text","value":" should be a "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"smooth, non-linear"}]},{"type":"text","value":" function of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"x"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"4","title":"Parts of non-linear function"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"GAMs are made up of "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"basis functions"}]},{"type":"text","value":" that together compose the smooth terms in models."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"coef()"}]},{"type":"text","value":" function to extract the coefficients from the GAM model object.  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After extracting the coefficients, answer the question: How many coefficients are there for the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"basis functions"}]},{"type":"text","value":" that compose the smooth curve in this model?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Extract the model coefficients of the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam_mod"}]},{"type":"text","value":" object which is available in your workspace."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"01_04"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"coef()"}]},{"type":"text","value":" function extracts all the model coefficients, which are coefficients for each basis function that makes up the smooth."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The model coefficients include one coefficient for the intercept as well as one coefficient for each basis function in the smooth."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"choice","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"1"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are coefficients for the intercept and more for the basis functions that make up the smooth term."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"2"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are coefficients for the intercept and more for the basis functions that make up the smooth term."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"9","correct":"true"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Correct! The smooth is made up of 9 basis functions, each with their own coefficient.  A GAM with just two variables can have many coefficients, which means they require a bit more data than linear models."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"10"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Close. That’s the number of coefficients in the model, but not all of them are for the basis functions."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"5","title":"Basis functions and smoothing","type":"slides"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"slides","properties":{"source":"chapter1_05"},"children":[{"type":"text","value":" \n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"6","title":"Setting complexity of the motorcycle model"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The number of basis functions in a smooth has a great impact\non the shapes a model can take.  Here, you’ll practice modifying\nthe number of basis functions in a model and examining the results."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fit a GAM with 3 basis functions to the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mcycle"}]},{"type":"text","value":" data, with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"accel"}]},{"type":"text","value":" as a smooth function of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"times"}]},{"type":"text","value":". "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fit the same GAM again, but this time with 20 basis functions. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Use the provided "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"plot()"}]},{"type":"text","value":" functions to visualize both models."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"01_06"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To specify the number of basis functions, add a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"k"}]},{"type":"text","value":" argument to the smooth function\nin the model formula, e.g., "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y ~ s(x, k = 5)"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"7","title":"Using smoothing parameters to avoid overfitting"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The smoothing parameter balances between likelihood and wiggliness to optimize model fit. Here, you’ll examine smoothing parameters and will fit models with different fixed smoothing parameters."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"View the value of the smoothing parameter ($\\lambda$) of the provided "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam_mod"}]},{"type":"text","value":" model by extracting the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sp"}]},{"type":"text","value":" value from the model."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Fit two models to the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mcycle"}]},{"type":"text","value":" data with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"accel"}]},{"type":"text","value":" as a smooth function of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"times"}]},{"type":"text","value":" and a smoothing parameter of: "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"0.1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"0.0001"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Visualize both models."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"01_07"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sp"}]},{"type":"text","value":" value can be extracted from a GAM model with the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"$"}]},{"type":"text","value":" operator."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"To set a smoothing parameter, use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sp"}]},{"type":"text","value":" argument to "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam()"}]},{"type":"text","value":". "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"You don’t need "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"method = \"REML\""}]},{"type":"text","value":" when you set your own smoothing parameter because no smoothing selection method is used."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"8","title":"Complexity and smoothing together"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The number of basis functions and the smoothing parameters interact to\ncontrol the wiggliness of a smooth function.  Here you will see how\nchanging both together affects model behavior."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fit a GAM models to the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mcycle"}]},{"type":"text","value":" data with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"accel"}]},{"type":"text","value":" as a smooth function of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"times"}]},{"type":"text","value":" with 50 basis functions and a smoothing parameter of 0.0001. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Visualize the model."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"01_08"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"To specify the number of basis functions, add a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"k"}]},{"type":"text","value":" argument to the smooth function\nin the model formula. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sp"}]},{"type":"text","value":" argument to set the smoothing parameter in the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam()"}]},{"type":"text","value":" function."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"9","title":"Multivariate GAMs","type":"slides"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"slides","properties":{"source":"chapter1_09"},"children":[{"type":"text","value":" \n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"10","title":"Multivariate GAMs of auto performance"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"GAMs can accept multiple variables of different types. In the following exercises, you’ll work with the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mpg"}]},{"type":"text","value":" dataset available in the "},{"type":"element","tagName":"a","properties":{"href":"https://www.rdocumentation.org/packages/gamair/topics/gamair-package"},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gamair"}]}]},{"type":"text","value":" package to practice fitting models of different forms."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"head()"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"str()"}]},{"type":"text","value":" functions to examine the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mpg"}]},{"type":"text","value":" data set. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fit a GAM to these data to predict "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"city.mpg"}]},{"type":"text","value":" as the sum of smooth functions of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"weight"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"length"}]},{"type":"text","value":", and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"price"}]},{"type":"text","value":". "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"plot()"}]},{"type":"text","value":" function provided to visualize the model."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"01_10"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A formula of the form "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y ~ s(x1) + s(x2) + s(x3)"}]},{"type":"text","value":" will fit a model which uses the sum of three smooth functions."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"11","title":"Adding categorical to the auto performance model"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now you’ll include categorical variables in your model. Categories are inherently linear, so you’ll model them as linear terms."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fit a GAM to the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mpg"}]},{"type":"text","value":" data, modeling "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"city.mpg"}]},{"type":"text","value":" as a sum of smooth functions of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"weight"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"length"}]},{"type":"text","value":", and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"price"}]},{"type":"text","value":", and also include the categorical terms "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fuel"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"drive"}]},{"type":"text","value":", and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"style"}]},{"type":"text","value":". "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"plot()"}]},{"type":"text","value":" function provided to visualize the model."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"01_11"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Categorical terms should be included as linear terms without "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"s()"}]},{"type":"text","value":". Mix non-linear and linear terms in a GAM formula like so:  "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y ~ s(x1) + s(x2) + x3 + x4."}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"12","title":"Category-level smooths for different auto types"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now you extend your models to include different smooths for different levels of categorical terms."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fit a model to predict city fuel efficiency ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"city.mpg"}]},{"type":"text","value":") with smooth terms of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"weight"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"length"}]},{"type":"text","value":", and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"price"}]},{"type":"text","value":", but make\neach of these smooth terms depend on the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"drive"}]},{"type":"text","value":" categorical variable using "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"by="}]},{"type":"text","value":" in the smooth terms. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Include a separate linear term for the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"drive"}]},{"type":"text","value":" variable."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"01_12"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Fit a formula of the form "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"y ~ s(x1, by = x3) + s(x2, by = x3) + ..."}]},{"type":"text","value":". "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Don’t forget to include your "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"by"}]},{"type":"text","value":" term as a linear categorical term, with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"... + x3"}]},{"type":"text","value":", as well."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"frontmatter":{"id":1,"title":"1 - Introduction to Generalized Additive Models","description":"In this chapter, you will learn how Generalized additive models work and how to use flexible, nonlinear functions to model data without over-fitting. You will learn to use the gam() function in the mgcv package, and how to build multivariate models that mix nonlinear, linear, and categorical effects to data.","next":"/chapter2","prev":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/chapter1"}}